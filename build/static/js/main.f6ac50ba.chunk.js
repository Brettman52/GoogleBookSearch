(this["webpackJsonpbook-search"]=this["webpackJsonpbook-search"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var r=o(0),n=o(1),a=o(8),i=o.n(a),s=o(2),c=o(3),l=o(5),h=o(4),b=(o(14),o(15),function(e){Object(l.a)(o,e);var t=Object(h.a)(o);function o(){return Object(s.a)(this,o),t.apply(this,arguments)}return Object(c.a)(o,[{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{className:"filterContainer",children:[Object(r.jsx)("label",{htmlFor:"print type",children:"Print Type:"}),Object(r.jsxs)("select",{placeholder:"all",name:"print type",onChange:function(t){return e.props.handlePrintTypeFilter(t.target.value)},children:[Object(r.jsx)("option",{value:"ALL",children:"All"}),Object(r.jsx)("option",{value:"MAGAZINE",children:"Magazine"}),Object(r.jsx)("option",{value:"BOOK",children:"Book"})]}),Object(r.jsx)("label",{htmlFor:"book type",children:"Book Type:"}),Object(r.jsxs)("select",{id:"bookTypeFilter",onChange:function(t){return e.props.handleBookTypeFilter(t.target.value)},name:"book type",children:[Object(r.jsx)("option",{value:"ALL",children:"All"}),Object(r.jsx)("option",{value:"PARTIAL",children:"Partial"}),Object(r.jsx)("option",{value:"ALL_PAGES",children:"Full"}),Object(r.jsx)("option",{value:"FREE_EBOOK",children:"Free-ebook"})]})]})}}]),o}(n.Component)),u=(o(16),function(e){Object(l.a)(o,e);var t=Object(h.a)(o);function o(){return Object(s.a)(this,o),t.apply(this,arguments)}return Object(c.a)(o,[{key:"render",value:function(){var e=this;return Object(r.jsx)("div",{className:"searchBar",children:Object(r.jsxs)("form",{className:"search-form",onSubmit:function(t){return e.props.handleSubmit(t)},children:[Object(r.jsx)("label",{htmlFor:"search",children:"Search:"}),Object(r.jsx)("input",{type:"text",name:"search",id:"search",placeholder:"Start here",onChange:function(t){return e.props.handleSearch(t.target.value)}}),Object(r.jsx)("button",{type:"submit",name:"search",children:"Go"})]})})}}]),o}(n.Component)),p=o(7),j=(o(17),o(18),o.p+"static/media/noImageVector.cf4a2957.jpg");function d(e){var t,o,n,a,i=e.volumeInfo,s=i.infoLink,c=i.title,l=i.authors,h=function(e){var t=e.split(" ");return t.length>20?t.slice(0,20).join(" ")+"...":t.join(" ")}((null==(t=e.volumeInfo.description)&&(t="No description available."),t)),b="NOT_FOR_SALE"===(o=e.saleInfo).saleability?"Not for sale":"FREE"===o.saleability?"Free":"$"+o.listPrice.amount.toFixed(2),u=e.volumeInfo.hasOwnProperty("imageLinks")?Object(r.jsx)("img",{src:e.volumeInfo.imageLinks.thumbnail,alt:"bookcover",width:"175px",height:"250px"}):Object(r.jsx)("img",{src:j,alt:"No thumbnail available",width:"200px",height:"225px"}),p=(a=l,a=!1===e.volumeInfo.hasOwnProperty("authors")?"No author info available":n=(n=a).length>0?n.join(", "):n[0]);return Object(r.jsxs)("div",{className:"book",children:[Object(r.jsx)("div",{className:"bookImage",children:Object(r.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:u})}),Object(r.jsxs)("div",{className:"bookRow",children:[Object(r.jsx)("div",{className:"bookTitle",children:c}),Object(r.jsxs)("div",{className:"bookAuthor",children:["Author(s): ",p]}),Object(r.jsxs)("div",{className:"bookPrice",children:["Price: ",b]}),Object(r.jsx)("div",{className:"bookDescription",children:h})]})]})}var f=function(e){Object(l.a)(o,e);var t=Object(h.a)(o);function o(){return Object(s.a)(this,o),t.apply(this,arguments)}return Object(c.a)(o,[{key:"displayByBookType",value:function(){var e=this,t=this.props.bookData.filter((function(t){return("ALL"===e.props.bookType||t.saleInfo.saleability===e.props.saleability&&t.saleInfo.isEbook===e.props.isEbook||t.accessInfo.viewability===e.props.bookType)&&("ALL"===e.props.printType||t.volumeInfo.printType===e.props.printType)})).map((function(e,t){return Object(n.createElement)(d,Object(p.a)(Object(p.a)({},e),{},{key:t}))}));return 0===t.length?Object(r.jsxs)("div",{id:"emptyMessage",children:["Nothing to see here...",Object(r.jsx)("br",{}),"Try readjusting your filters"]}):t}},{key:"render",value:function(){var e=this.displayByBookType();return Object(r.jsx)("div",{children:e})}}]),o}(n.Component);f.defaultProps={books:[]};var y=function(e){Object(l.a)(o,e);var t=Object(h.a)(o);function o(e){var r;return Object(s.a)(this,o),(r=t.call(this,e)).handleBookTypeFilter=function(e){"FREE_EBOOK"===e?r.setState({bookType:e,isEbook:!0,saleability:"FREE"}):r.setState({bookType:e,isEbook:"",saleability:""})},r.handleSearch=function(e){r.setState({search:e})},r.handlePrintTypeFilter=function(e){r.setState({printType:e})},r.state={search:"",books:[],printType:"ALL",bookType:"ALL",hasSubmitted:!1,isEbook:"",saleability:"",failedSearchHold:""},r}return Object(c.a)(o,[{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),""===this.state.search)alert("Enter a search to continue.");else{var o=function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")}({q:this.state.search,maxResults:10,key:"AIzaSyCzLBVLpCtQHMf4ql8ySnqWVv9bzLo6KNE"}),r=encodeURI("https://www.googleapis.com/books/v1/volumes?"+o);console.log(r);fetch(r,{method:"GET"}).then((function(e){if(!e.ok)throw new Error("Something went wrong, please try again later.");return e})).then((function(e){return e.json()})).then((function(e){t.setState({books:e.items,error:null,hasSubmitted:!0,failedSearchHold:t.state.search})})).catch((function(e){t.setState({error:e.message})}))}}},{key:"render",value:function(){var e=this,t=this.state.hasSubmitted?void 0===this.state.books?Object(r.jsxs)("div",{className:"searchEmpty",children:['No results for "',this.state.failedSearchHold,'"']}):Object(r.jsx)(f,{bookData:this.state.books,bookType:this.state.bookType,printType:this.state.printType,isEbook:this.state.isEbook,saleability:this.state.saleability}):Object(r.jsx)("div",{className:"defaultMessage",children:"Search for your favorite books to begin"}),o=this.state.error?Object(r.jsxs)("div",{id:"errorMessage",className:"renderBookError",children:[this.state.error,".",Object(r.jsx)("br",{}),"Please try your request again later."]}):" ";return Object(r.jsxs)("div",{children:[Object(r.jsx)("header",{className:"header",children:Object(r.jsx)("h1",{children:"Google Book Search"})}),Object(r.jsx)(u,{handleSearch:this.handleSearch,handleSubmit:function(t){return e.handleSubmit(t)}}),Object(r.jsx)(b,{handlePrintTypeFilter:this.handlePrintTypeFilter,handleBookTypeFilter:this.handleBookTypeFilter}),Object(r.jsxs)("section",{id:"content",children:[o,t]})]})}}]),o}(n.Component);i.a.render(Object(r.jsx)(y,{}),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.f6ac50ba.chunk.js.map