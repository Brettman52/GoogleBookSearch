{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/cbadams/Documents/BlocAssignments/react-projects/book-search/src/App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport Filter from \"./Filter\";\nimport SearchBar from \"./SearchBar\";\nimport BookList from \"./BookList\";\nexport class App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleBookTypeFilter = bookType => {\n      if (bookType === \"FREE_EBOOK\") {\n        this.setState({\n          bookType,\n          isEbook: true,\n          saleability: \"FREE\"\n        });\n      } else {\n        this.setState({\n          bookType,\n          isEbook: \"\",\n          saleability: \"\"\n        });\n      }\n    };\n\n    this.handleSearch = search => {\n      this.setState({\n        search\n      });\n    };\n\n    this.handlePrintTypeFilter = printType => {\n      this.setState({\n        printType\n      });\n    };\n\n    this.state = {\n      search: \"\",\n      books: [],\n      printType: \"ALL\",\n      bookType: \"ALL\",\n      hasSubmitted: false,\n      isEbook: \"\",\n      saleability: \"\",\n      failedSearchHold: \"\"\n    };\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n\n    if (this.state.search === \"\") {\n      alert(\"Enter a search to continue.\");\n    } else {\n      const base_url = \"htps://www.googleapis.com/books/v1/volumes\";\n\n      function formatQueryParams(params) {\n        const queryItems = Object.keys(params).map(key => `${key}=${params[key]}`);\n        return queryItems.join(\"&\");\n      }\n\n      const params = {\n        q: this.state.search,\n        maxResults: 10,\n        key: \"AIzaSyCzLBVLpCtQHMf4ql8ySnqWVv9bzLo6KNE\"\n      };\n      const queryString = formatQueryParams(params);\n      const url = encodeURI(base_url + \"?\" + queryString);\n      console.log(url);\n      const options = {\n        method: \"GET\"\n      };\n      fetch(url, options).then(response => {\n        if (!response.ok) {\n          throw new Error(\"Something went wrong, please try again later.\");\n        }\n\n        return response;\n      }).then(response => response.json()).then(data => {\n        this.setState({\n          books: data.items,\n          error: null,\n          hasSubmitted: true,\n          failedSearchHold: this.state.search\n        });\n      }).catch(err => {\n        this.setState({\n          error: err.message\n        });\n      });\n    }\n  }\n\n  render() {\n    const bookList = this.state.hasSubmitted ? this.state.books === undefined ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searchEmpty\",\n      children: [\"No results for \\\"\", this.state.failedSearchHold, \"\\\"\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(BookList, {\n      bookData: this.state.books,\n      bookType: this.state.bookType,\n      printType: this.state.printType,\n      isEbook: this.state.isEbook,\n      saleability: this.state.saleability\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"defaultMessage\",\n      children: \"Search for your favorite books to begin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this);\n    const error = this.state.error ? /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"errorMessage\",\n      className: \"renderBookError\",\n      children: this.state.error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this) : \" \";\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"header\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Google Book Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SearchBar, {\n        handleSearch: this.handleSearch,\n        handleSubmit: e => this.handleSubmit(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Filter, {\n        handlePrintTypeFilter: this.handlePrintTypeFilter,\n        handleBookTypeFilter: this.handleBookTypeFilter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        id: \"content\",\n        children: [error, bookList]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nexport default App;","map":{"version":3,"sources":["/Users/cbadams/Documents/BlocAssignments/react-projects/book-search/src/App.js"],"names":["React","Component","Filter","SearchBar","BookList","App","constructor","props","handleBookTypeFilter","bookType","setState","isEbook","saleability","handleSearch","search","handlePrintTypeFilter","printType","state","books","hasSubmitted","failedSearchHold","handleSubmit","e","preventDefault","alert","base_url","formatQueryParams","params","queryItems","Object","keys","map","key","join","q","maxResults","queryString","url","encodeURI","console","log","options","method","fetch","then","response","ok","Error","json","data","items","error","catch","err","message","render","bookList","undefined"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Filter from \"./Filter\";\nimport SearchBar from \"./SearchBar\";\nimport BookList from \"./BookList\";\n\nexport class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: \"\",\n      books: [],\n      printType: \"ALL\",\n      bookType: \"ALL\",\n      hasSubmitted: false,\n      isEbook: \"\",\n      saleability: \"\",\n      failedSearchHold:\"\"\n    };\n  }\n  \n  handleBookTypeFilter = (bookType) => {\n    if (bookType === \"FREE_EBOOK\") {\n      this.setState({\n        bookType,\n        isEbook: true,\n        saleability: \"FREE\",\n      });\n    } else {\n      this.setState({\n        bookType,\n        isEbook: \"\",\n        saleability: \"\",\n      });\n    }\n  };\n\n  handleSearch = (search) => {\n    this.setState({\n      search,\n    });\n  };\n\n  handlePrintTypeFilter = (printType) => {\n    this.setState({\n      printType,\n    });\n  };\n\n  handleSubmit(e) {\n    e.preventDefault();\nif(this.state.search === \"\"){\n  alert(\"Enter a search to continue.\")\n  } else {\n    const base_url = \"htps://www.googleapis.com/books/v1/volumes\";\n\n    function formatQueryParams(params) {\n      const queryItems = Object.keys(params).map(\n        (key) => `${key}=${params[key]}`\n      );\n      return queryItems.join(\"&\");\n    }\n\n    const params = {\n      q: this.state.search,\n      maxResults: 10,\n      key: \"AIzaSyCzLBVLpCtQHMf4ql8ySnqWVv9bzLo6KNE\",\n    };\n\n    const queryString = formatQueryParams(params);\n    const url = encodeURI(base_url + \"?\" + queryString);\n\n    console.log(url);\n\n    const options = {\n      method: \"GET\",\n    };\n\n    fetch(url, options)\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(\"Something went wrong, please try again later.\");\n        }\n        return response;\n      })\n      .then((response) => response.json())\n      .then((data) => {\n        this.setState({\n          books: data.items,\n          error: null,\n          hasSubmitted: true,\n          failedSearchHold: this.state.search\n        });\n      })\n      .catch((err) => {\n        this.setState({\n          error: err.message,\n        });\n      });\n    }\n      \n  }\n\n  render() {\n\n    const bookList = this.state.hasSubmitted ? \n      this.state.books === undefined ? \n      <div className=\"searchEmpty\">No results for \"{this.state.failedSearchHold}\"</div> : \n        <BookList\n          bookData={this.state.books}\n          bookType={this.state.bookType}\n          printType={this.state.printType}\n          isEbook={this.state.isEbook}\n          saleability={this.state.saleability}\n        /> : \n      <div className=\"defaultMessage\">\n        Search for your favorite books to begin\n      </div>;\n\n    const error = this.state.error ? \n      <div id=\"errorMessage\" className=\"renderBookError\">{this.state.error}</div> : \" \";\n\n    return (\n      <div>\n        <header className=\"header\">\n          <h1>Google Book Search</h1>\n        </header>\n        <SearchBar\n          handleSearch={this.handleSearch}\n          handleSubmit={(e) => this.handleSubmit(e)}\n        />\n        <Filter\n          handlePrintTypeFilter={this.handlePrintTypeFilter}\n          handleBookTypeFilter={this.handleBookTypeFilter}\n        />\n        <section id=\"content\">\n          {error}\n          {bookList} \n        </section>\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}