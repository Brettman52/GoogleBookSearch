{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import _classCallCheck from\"/Users/cbadams/Documents/BlocAssignments/react-projects/book-search/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/cbadams/Documents/BlocAssignments/react-projects/book-search/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/cbadams/Documents/BlocAssignments/react-projects/book-search/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/cbadams/Documents/BlocAssignments/react-projects/book-search/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./App.css\";import Filter from\"./Filter\";import SearchBar from\"./SearchBar\";import BookList from\"./BookList\";export var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.handleBookTypeFilter=function(bookType){if(bookType===\"FREE_EBOOK\"){_this.setState({bookType:bookType,isEbook:true,saleability:\"FREE\"});}else{_this.setState({bookType:bookType,isEbook:\"\",saleability:\"\"});}};_this.handleSearch=function(search){_this.setState({search:search});};_this.handlePrintTypeFilter=function(printType){_this.setState({printType:printType});};_this.state={search:\"\",books:[],printType:\"ALL\",bookType:\"ALL\",hasSubmitted:false,isEbook:\"\",saleability:\"\",failedSearchHold:\"\"};return _this;}_createClass(App,[{key:\"handleSubmit\",value:function handleSubmit(e){var _this2=this;e.preventDefault();if(this.state.search===\"\"){alert(\"Enter a search to continue.\");}else{var base_url=\"https://www.googleapis.com/books/v1/volumes\";function formatQueryParams(params){var queryItems=Object.keys(params).map(function(key){return\"\".concat(key,\"=\").concat(params[key]);});return queryItems.join(\"&\");}var params={q:this.state.search,maxResults:10,key:\"AIzaSyCzLBVLpCtQHMf4ql8ySnqWVv9bzLo6KNE\"};var queryString=formatQueryParams(params);var url=encodeURI(base_url+\"?\"+queryString);console.log(url);var options={method:\"GET\"};fetch(url,options).then(function(response){if(!response.ok){throw new Error(\"Something went wrong, please try again later.\");}return response;}).then(function(response){return response.json();}).then(function(data){_this2.setState({books:data.items,error:null,hasSubmitted:true,failedSearchHold:_this2.state.search});}).catch(function(err){_this2.setState({error:err.message});});}}},{key:\"render\",value:function render(){var _this3=this;var bookList=this.state.hasSubmitted?this.state.books===undefined?/*#__PURE__*/_jsxs(\"div\",{className:\"searchEmpty\",children:[\"No results for \\\"\",this.state.failedSearchHold,\"\\\"\"]}):/*#__PURE__*/_jsx(BookList,{bookData:this.state.books,bookType:this.state.bookType,printType:this.state.printType,isEbook:this.state.isEbook,saleability:this.state.saleability}):/*#__PURE__*/_jsx(\"div\",{className:\"defaultMessage\",children:\"Search for your favorite books to begin\"});var error=this.state.error?/*#__PURE__*/_jsx(\"div\",{className:\"renderBookError\",children:this.state.error}):\" \";return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Google Book Search\"})}),/*#__PURE__*/_jsx(SearchBar,{handleSearch:this.handleSearch,handleSubmit:function handleSubmit(e){return _this3.handleSubmit(e);}}),/*#__PURE__*/_jsx(Filter,{handlePrintTypeFilter:this.handlePrintTypeFilter,handleBookTypeFilter:this.handleBookTypeFilter}),/*#__PURE__*/_jsxs(\"section\",{children:[bookList,error]})]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/cbadams/Documents/BlocAssignments/react-projects/book-search/src/App.js"],"names":["React","Component","Filter","SearchBar","BookList","App","props","handleBookTypeFilter","bookType","setState","isEbook","saleability","handleSearch","search","handlePrintTypeFilter","printType","state","books","hasSubmitted","failedSearchHold","e","preventDefault","alert","base_url","formatQueryParams","params","queryItems","Object","keys","map","key","join","q","maxResults","queryString","url","encodeURI","console","log","options","method","fetch","then","response","ok","Error","json","data","items","error","catch","err","message","bookList","undefined","handleSubmit"],"mappings":"gzBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CAEA,UAAaC,CAAAA,GAAb,0FACE,aAAYC,KAAZ,CAAmB,qCACjB,uBAAMA,KAAN,EADiB,MAcnBC,oBAdmB,CAcI,SAACC,QAAD,CAAc,CACnC,GAAIA,QAAQ,GAAK,YAAjB,CAA+B,CAC7B,MAAKC,QAAL,CAAc,CACZD,QAAQ,CAARA,QADY,CAEZE,OAAO,CAAE,IAFG,CAGZC,WAAW,CAAE,MAHD,CAAd,EAKD,CAND,IAMO,CACL,MAAKF,QAAL,CAAc,CACZD,QAAQ,CAARA,QADY,CAEZE,OAAO,CAAE,EAFG,CAGZC,WAAW,CAAE,EAHD,CAAd,EAKD,CACF,CA5BkB,OA8BnBC,YA9BmB,CA8BJ,SAACC,MAAD,CAAY,CACzB,MAAKJ,QAAL,CAAc,CACZI,MAAM,CAANA,MADY,CAAd,EAGD,CAlCkB,OAoCnBC,qBApCmB,CAoCK,SAACC,SAAD,CAAe,CACrC,MAAKN,QAAL,CAAc,CACZM,SAAS,CAATA,SADY,CAAd,EAGD,CAxCkB,CAEjB,MAAKC,KAAL,CAAa,CACXH,MAAM,CAAE,EADG,CAEXI,KAAK,CAAE,EAFI,CAGXF,SAAS,CAAE,KAHA,CAIXP,QAAQ,CAAE,KAJC,CAKXU,YAAY,CAAE,KALH,CAMXR,OAAO,CAAE,EANE,CAOXC,WAAW,CAAE,EAPF,CAQXQ,gBAAgB,CAAC,EARN,CAAb,CAFiB,aAYlB,CAbH,kEA2CeC,CA3Cf,CA2CkB,iBACdA,CAAC,CAACC,cAAF,GACJ,GAAG,KAAKL,KAAL,CAAWH,MAAX,GAAsB,EAAzB,CAA4B,CAC1BS,KAAK,CAAC,6BAAD,CAAL,CACC,CAFH,IAES,CACL,GAAMC,CAAAA,QAAQ,CAAG,6CAAjB,CAEA,QAASC,CAAAA,iBAAT,CAA2BC,MAA3B,CAAmC,CACjC,GAAMC,CAAAA,UAAU,CAAGC,MAAM,CAACC,IAAP,CAAYH,MAAZ,EAAoBI,GAApB,CACjB,SAACC,GAAD,kBAAYA,GAAZ,aAAmBL,MAAM,CAACK,GAAD,CAAzB,GADiB,CAAnB,CAGA,MAAOJ,CAAAA,UAAU,CAACK,IAAX,CAAgB,GAAhB,CAAP,CACD,CAED,GAAMN,CAAAA,MAAM,CAAG,CACbO,CAAC,CAAE,KAAKhB,KAAL,CAAWH,MADD,CAEboB,UAAU,CAAE,EAFC,CAGbH,GAAG,CAAE,yCAHQ,CAAf,CAMA,GAAMI,CAAAA,WAAW,CAAGV,iBAAiB,CAACC,MAAD,CAArC,CACA,GAAMU,CAAAA,GAAG,CAAGC,SAAS,CAACb,QAAQ,CAAG,GAAX,CAAiBW,WAAlB,CAArB,CAEAG,OAAO,CAACC,GAAR,CAAYH,GAAZ,EAEA,GAAMI,CAAAA,OAAO,CAAG,CACdC,MAAM,CAAE,KADM,CAAhB,CAIAC,KAAK,CAACN,GAAD,CAAMI,OAAN,CAAL,CACGG,IADH,CACQ,SAACC,QAAD,CAAc,CAClB,GAAI,CAACA,QAAQ,CAACC,EAAd,CAAkB,CAChB,KAAM,IAAIC,CAAAA,KAAJ,CAAU,+CAAV,CAAN,CACD,CACD,MAAOF,CAAAA,QAAP,CACD,CANH,EAOGD,IAPH,CAOQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACG,IAAT,EAAd,EAPR,EAQGJ,IARH,CAQQ,SAACK,IAAD,CAAU,CACd,MAAI,CAACtC,QAAL,CAAc,CACZQ,KAAK,CAAE8B,IAAI,CAACC,KADA,CAEZC,KAAK,CAAE,IAFK,CAGZ/B,YAAY,CAAE,IAHF,CAIZC,gBAAgB,CAAE,MAAI,CAACH,KAAL,CAAWH,MAJjB,CAAd,EAMD,CAfH,EAgBGqC,KAhBH,CAgBS,SAACC,GAAD,CAAS,CACd,MAAI,CAAC1C,QAAL,CAAc,CACZwC,KAAK,CAAEE,GAAG,CAACC,OADC,CAAd,EAGD,CApBH,EAqBC,CAEF,CA/FH,uCAiGW,iBAEP,GAAMC,CAAAA,QAAQ,CAAG,KAAKrC,KAAL,CAAWE,YAAX,CACf,KAAKF,KAAL,CAAWC,KAAX,GAAqBqC,SAArB,cACA,aAAK,SAAS,CAAC,aAAf,+BAA8C,KAAKtC,KAAL,CAAWG,gBAAzD,QADA,cAEE,KAAC,QAAD,EACE,QAAQ,CAAE,KAAKH,KAAL,CAAWC,KADvB,CAEE,QAAQ,CAAE,KAAKD,KAAL,CAAWR,QAFvB,CAGE,SAAS,CAAE,KAAKQ,KAAL,CAAWD,SAHxB,CAIE,OAAO,CAAE,KAAKC,KAAL,CAAWN,OAJtB,CAKE,WAAW,CAAE,KAAKM,KAAL,CAAWL,WAL1B,EAHa,cAUf,YAAK,SAAS,CAAC,gBAAf,qDAVF,CAcA,GAAMsC,CAAAA,KAAK,CAAG,KAAKjC,KAAL,CAAWiC,KAAX,cACZ,YAAK,SAAS,CAAC,iBAAf,UAAkC,KAAKjC,KAAL,CAAWiC,KAA7C,EADY,CACgD,GAD9D,CAGA,mBACE,oCACE,eAAQ,SAAS,CAAC,QAAlB,uBACE,0CADF,EADF,cAIE,KAAC,SAAD,EACE,YAAY,CAAE,KAAKrC,YADrB,CAEE,YAAY,CAAE,sBAACQ,CAAD,QAAO,CAAA,MAAI,CAACmC,YAAL,CAAkBnC,CAAlB,CAAP,EAFhB,EAJF,cAQE,KAAC,MAAD,EACE,qBAAqB,CAAE,KAAKN,qBAD9B,CAEE,oBAAoB,CAAE,KAAKP,oBAF7B,EARF,cAYE,2BACG8C,QADH,CAEGJ,KAFH,GAZF,GADF,CAmBD,CAvIH,iBAAyBhD,SAAzB,EA0IA,cAAeI,CAAAA,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Filter from \"./Filter\";\nimport SearchBar from \"./SearchBar\";\nimport BookList from \"./BookList\";\n\nexport class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: \"\",\n      books: [],\n      printType: \"ALL\",\n      bookType: \"ALL\",\n      hasSubmitted: false,\n      isEbook: \"\",\n      saleability: \"\",\n      failedSearchHold:\"\"\n    };\n  }\n  \n  handleBookTypeFilter = (bookType) => {\n    if (bookType === \"FREE_EBOOK\") {\n      this.setState({\n        bookType,\n        isEbook: true,\n        saleability: \"FREE\",\n      });\n    } else {\n      this.setState({\n        bookType,\n        isEbook: \"\",\n        saleability: \"\",\n      });\n    }\n  };\n\n  handleSearch = (search) => {\n    this.setState({\n      search,\n    });\n  };\n\n  handlePrintTypeFilter = (printType) => {\n    this.setState({\n      printType,\n    });\n  };\n\n  handleSubmit(e) {\n    e.preventDefault();\nif(this.state.search === \"\"){\n  alert(\"Enter a search to continue.\")\n  } else {\n    const base_url = \"https://www.googleapis.com/books/v1/volumes\";\n\n    function formatQueryParams(params) {\n      const queryItems = Object.keys(params).map(\n        (key) => `${key}=${params[key]}`\n      );\n      return queryItems.join(\"&\");\n    }\n\n    const params = {\n      q: this.state.search,\n      maxResults: 10,\n      key: \"AIzaSyCzLBVLpCtQHMf4ql8ySnqWVv9bzLo6KNE\",\n    };\n\n    const queryString = formatQueryParams(params);\n    const url = encodeURI(base_url + \"?\" + queryString);\n\n    console.log(url);\n\n    const options = {\n      method: \"GET\",\n    };\n\n    fetch(url, options)\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(\"Something went wrong, please try again later.\");\n        }\n        return response;\n      })\n      .then((response) => response.json())\n      .then((data) => {\n        this.setState({\n          books: data.items,\n          error: null,\n          hasSubmitted: true,\n          failedSearchHold: this.state.search\n        });\n      })\n      .catch((err) => {\n        this.setState({\n          error: err.message,\n        });\n      });\n    }\n      \n  }\n\n  render() {\n\n    const bookList = this.state.hasSubmitted ? \n      this.state.books === undefined ? \n      <div className=\"searchEmpty\">No results for \"{this.state.failedSearchHold}\"</div> : \n        <BookList\n          bookData={this.state.books}\n          bookType={this.state.bookType}\n          printType={this.state.printType}\n          isEbook={this.state.isEbook}\n          saleability={this.state.saleability}\n        /> : \n      <div className=\"defaultMessage\">\n        Search for your favorite books to begin\n      </div>;\n\n    const error = this.state.error ? \n      <div className=\"renderBookError\">{this.state.error}</div> : \" \";\n\n    return (\n      <div>\n        <header className=\"header\">\n          <h1>Google Book Search</h1>\n        </header>\n        <SearchBar\n          handleSearch={this.handleSearch}\n          handleSubmit={(e) => this.handleSubmit(e)}\n        />\n        <Filter\n          handlePrintTypeFilter={this.handlePrintTypeFilter}\n          handleBookTypeFilter={this.handleBookTypeFilter}\n        />\n        <section>\n          {bookList}\n          {error}\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}